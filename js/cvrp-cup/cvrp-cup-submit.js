$(document).e(function(){var e=document.o("needs-validation");Array.prototype.filter.call(e,function(e){e.r("submit",function(t){t.n(),t.t(),e.a.add("was-validated"),!0===e.s()&&function(){$(this).i("d-none"),$("#btn-sending").i("d-none"),$("#container-alerts").l();var e=null,t=$("#select-group option:selected").u(),a=$("#select-group option:selected").c("name"),s=$("#select-group option:selected").c("members"),i=$("#select-group option:selected").c("members-short"),l=$("#textarea-solution").u(),u=$("#input-cost").u();switch(parseInt($("#select-instance option:selected").u())){case 1:e="cvrp1";break;case 2:e="cvrp2";break;case 3:e="cvrp3";break;case 4:e="cvrp4"}if(null==e)r("Alguma coisa saiu errado! Por favor, comunique o erro ao professor informando o código de erro.",1,60,10);else{var c=function(e,t,a){for(var s={d:!1,f:null,m:null},i=t.replace(/\s+/g,"").trim().split(";"),l=0;l<i.length;l++){i[l]=i[l].split(",");for(var u=0;u<i[l].length;u++)if(i[l][u]=parseInt(i[l][u]),isNaN(i[l][u]))return r("A solução informada não está no formato correto! Leia as instruções acima para descobrir como formatar sua solução.",1,15,null),n(),s}s.m="",i.join(";");for(var l=0;l<i.length;l++)s.m+=i[l].join(","),l+1!=i.length&&(s.m+=";");var c=function(e){var o={v:0,p:0,g:0,$:null,b:null};return $.h({y:"/assets/cvrp-cup/instances/"+e+".txt",_:!1,d:function(e){for(var r=e.split("\n"),n=0;n!=r.length;){if("#num_vertices"==r[n]){n++,o.v=parseInt(r[n]);break}n++}for(;n!=r.length;){if("#num_vehicles"==r[n]){n++,o.p=parseInt(r[n]);break}n++}for(;n!=r.length;){if("#capacity"==r[n]){n++,o.g=parseInt(r[n]);break}n++}for(;n!=r.length;){if("#demands"==r[n]){n++;break}n++}o.$=new Array(o.v);for(var t=0;t<o.v;t++){var a=r[n].replace(/\s+/g," ").trim().split(" ");o.$[t]=parseInt(a[1]),n++}for(;n!=r.length;){if("#coordinates"==r[n]){n++;break}n++}for(o.b=new Array(o.v),t=0;t<o.v;t++)a=r[n].replace(/\s+/g," ").trim().split(" "),o.b[t]=new Array(2),o.b[t][0]=parseFloat(a[1]),o.b[t][1]=parseFloat(a[2]),n++}}),o}(e);if(i.length<c.k)return r("O número de rotas não condiz com o número mínimo de rotas! Deveriam haver pelo menos <strong>"+c.p+" rotas </strong>. Leia as instruções acima para descobrir como formatar sua solução.",1,15,null),n(),s;for(var l=0;l<i.length;l++)if(i[l][0]!=i[l][i[l].length-1])return r("Rota número "+(l+1)+" inviável, o primeiro vértice deve ser igual ao último!",1,15,null),n(),s;for(var d=new Array(c.v).fill(!1),f=0;f<i.length;f++)for(var m=0,l=1;l<i[f].length-1;l++){if(i[f][l]>=c.v||i[f][l]<0)return r("Solução inviável! Na rota "+(f+1)+", o cliente "+i[f][l]+" não existe!",1,15,null),n(),s;if(d[i[f][l]])return r("Solução inviável! Na rota "+(f+1)+" o cliente "+i[f][l]+" é visitado mais de uma vez!",1,15,null),n(),s;if((m+=c.$[i[f][l]])>c.g)return r("Solução inviável! Na rota "+(f+1)+" a capacidade do veículo é excedida!",1,15,null),n(),s;d[i[f][l]]=!0}for(var f=1;f<c.v;f++)if(!d[f])return r("Solução inviável! O cliente "+f+" nunca é visitado!",1,15,null),n(),s;for(var v=0,f=0;f<i.length;f++)for(var l=0;l<i[f].length-1;l++){var p=c.b[i[f][l]][0],g=c.b[i[f][l]][1],b=c.b[i[f][l+1]][0],h=c.b[i[f][l+1]][1];v+=o(p,g,b,h)}v!=a&&r("A solução informada possui valor <strong>"+v+"</strong>, mas foi informado "+a+". Note que iremos considerar o valor correto, mas isso pode indicar um bug em seu código.",2,15,null);return s.d=!0,s.f=v,$("#textarea-solution").w("is-invalid"),s}(e,l,u);if(c.d&&$("#alert-successfully-sent").A("d-none")){var d='Solution:\n{\n\t"solution": {\n\t\t"instance_name": "'+e+'",\n\t\t"group_id": '+t+',\n\t\t"group_name": "'+a+'",\n\t\t"group_members": "'+s+'",\n\t\t"group_members_short": "'+i+'",\n\t\t"time_stamp": "'+moment().x()+'",\n\t\t"solution_cost_user": '+u+',\n\t\t"solution_cost_evaluated": '+c.f+',\n\t\t"solution_user": "'+l+'",\n\t\t"solution": "'+c.m+'"\n\t}\n}';$.h({N:"POST",y:"https://hooks.zapier.com/hooks/catch/5750378/o2ukzbb/",c:{message:d,S:t},d:function(){console.log("Sent!"),$("#alert-successfully-sent").w("d-none"),setTimeout(function(){$("#alert-successfully-sent").I("d-none")},1e4)},z:function(){r("Não foi possível enviar sua solução. Por favor entre em contato com o professor para reportar o erro!",1,60,null)},M:"json"})}}$(this).i("d-none"),$("#btn-sending").i("d-none")}()},!1)});function o(e,o,r,n){return Math.round(Math.sqrt(Math.pow(e-r,2)+Math.pow(o-n,2)))}function r(e,o,r,n){var t=$('<div class="alert alert-'+(1==o?"danger":"warning")+' alert-dismissible fade show" role="alert"></div>').T("<strong>"+(1==o?"Erro":"Aviso")+(null!=n?" "+n:"")+":</strong> "+e).T('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');$("#container-alerts").T(t),setTimeout(function(){t.O()},1e3*r)}function n(){$("#form-tsp-cup-submit").w("was-validated"),$("#textarea-solution").A("is-invalid")||$("#textarea-solution").I("is-invalid").w("is-valid")}$("#alert-successfully-sent .close").P("click",function(e){return e.n(),$("#alert-successfully-sent").A("d-none")||$("#alert-successfully-sent").I("d-none"),!1})});