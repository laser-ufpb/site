$(document).ready(function(){var u=50;function m(t,s){return t.solution_cost_evaluated<s.solution_cost_evaluated?-1:t.solution_cost_evaluated>s.solution_cost_evaluated?1:moment(t.time_stamp).isBefore(moment(s.time_stamp))?-1:moment(t.time_stamp).isAfter(moment(s.time_stamp))?1:0}function g(t,s){return t.points>s.points?-1:t.points<s.points?1:t.tsp1<s.tsp1?-1:t.tsp1>s.tsp1?1:t.tsp2<s.tsp2?-1:t.tsp2>s.tsp2?1:t.tsp3<s.tsp3?-1:t.tsp3>s.tsp3?1:0}$.ajax({dataType:"json",url:"/assets/tsp-cup/tsp-solutions.json",success:function(t){!function(t){for(var s={},o=[],e=[],p=[],r=[],i=0;i<t.length;i++)"tsp1"==t[i].instance_name?o.push(t[i]):"tsp2"==t[i].instance_name?e.push(t[i]):"tsp3"==t[i].instance_name&&p.push(t[i]),"group-"+t[i].group_id in s||(s["group-"+t[i].group_id]={group_id:t[i].group_id,group_name:t[i].group_name,group_members:t[i].group_members,group_members_short:t[i].group_members_short,points:0});o.sort(m),e.sort(m),p.sort(m);for(var i=0;i<o.length;i++){var n=s["group-"+o[i].group_id];n.points+=u-i,n.tsp1=o[i].solution_cost_evaluated}for(var i=0;i<e.length;i++){var n=s["group-"+e[i].group_id];n.points+=u-i,n.tsp2=e[i].solution_cost_evaluated}for(var i=0;i<p.length;i++){var n=s["group-"+p[i].group_id];n.points+=u-i,n.tsp3=p[i].solution_cost_evaluated}for(key in s)r.push(s[key]);r.sort(g);for(var a=$("#table-ranking tbody"),i=0;i<r.length;i++)a.append('<tr style="line-height: 32px"><th class="text-center">'+(0==i?'<img src="/img/icons/medal-gold.svg" height="32" alt="">':1==i?'<img src="/img/icons/medal-silver.svg" height="32" alt="">':2==i?'<img src="/img/icons/medal-bronze.svg" height="32" alt="">':i+1)+"</th><td>"+r[i].points+"</td><td>"+r[i].tsp1+" / "+r[i].tsp2+" / "+r[i].tsp3+"</td><td>"+r[i].group_name+"</td><td>"+r[i].group_members+"</td></tr>");$("#main-podium .podium-gold-group").html(r[0].group_members_short),$("#main-podium .podium-silver-group").html(r[1].group_members_short),$("#main-podium .podium-bronze-group").html(r[2].group_members_short)}(t.solutions),$("#rank-last-update").text("(Última atualização em "+t["last-updated-date"]+" às "+t["last-updated-time"]+")")}})});